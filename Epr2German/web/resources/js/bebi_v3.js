(function(){function a(b,d){function f(a){if(f[a]!==q)return f[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=f("json-stringify")&&f("json-parse");else{var c,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=d.stringify,k="function"==typeof i&&t;if(k){(c=function(){return 1}).toJSON=c;try{k="0"===i(0)&&"0"===i(new g)&&'""'==i(new h)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(c)&&"[1]"==i([c])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[c,!0,!1,null,"\0\b\n\f\r\t"]})==e&&"1"===i(null,c)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==i(new j((-1)))}catch(l){k=!1}}b=k}if("json-parse"==a){var m=d.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){c=m(e);var n=5==c.a.length&&1===c.a[0];if(n){try{n=!m('"\t"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}b=n}}return f[a]=!!b}b||(b=e.Object()),d||(d=e.Object());var g=b.Number||e.Number,h=b.String||e.String,i=b.Object||e.Object,j=b.Date||e.Date,k=b.SyntaxError||e.SyntaxError,l=b.TypeError||e.TypeError,m=b.Math||e.Math,n=b.JSON||e.JSON;"object"==typeof n&&n&&(d.stringify=n.stringify,d.parse=n.parse);var o,p,q,r=i.prototype,s=r.toString,t=new j((-0xc782b5b800cec));try{t=t.getUTCFullYear()==-109252&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!f("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=f("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var d,e,f,g=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)o.call(e,f)&&g++;return d=e=null,g?p=2==g?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var d,f,g=s.call(a)==v,h=!g&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(d in a)g&&"prototype"==d||!h.call(a,d)||b(d);for(f=e.length;d=e[--f];h.call(a,d)&&b(d));}),p(a,b)},!f("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(g<32){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(j<=0||j>=1e4?(j<0?"-":"+")+H(6,j<0?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&h<1/0?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;F<G;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if((h=s.call(b))==v)f=b;else if(h==z){g={};for(var i,j=0,k=b.length;j<k;i=b[j++],h=s.call(i),(h==y||h==x)&&(g[i]=1));}if(d)if((h=s.call(d))==x){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==y&&(e=d.length<=10?d:d.slice(0,10));return K("",(i={},i[""]=a,i),f,g,e,"",[])}}if(!f("json-parse")){var L,M,N=h.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;L<g;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;L<g;)if(e=f.charCodeAt(L),e<32)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;L<c;L++)e=f.charCodeAt(L),e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&e<=57){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&e<=57)&&P(),d=!1;L<g&&(e=f.charCodeAt(L),e>=48&&e<=57);L++);if(46==f.charCodeAt(L)){for(c=++L;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),43!=e&&45!=e||L++,c=L;c<g&&(e=f.charCodeAt(c),e>=48&&e<=57);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),","!=a&&"string"==typeof a&&"@"==(B?a.charAt(0):a[0])&&":"==Q()||P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};d.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return d.runInContext=a,d}var b="function"==typeof define&&define.amd,c={"function":!0,object:!0},d=c[typeof exports]&&exports&&!exports.nodeType&&exports,e=c[typeof window]&&window||this,f=d&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!f||f.global!==f&&f.window!==f&&f.self!==f||(e=f),d&&!b)a(e,d);else{var g=e.JSON,h=e.JSON3,i=!1,j=a(e,e.JSON3={noConflict:function(){return i||(i=!0,e.JSON=g,e.JSON3=h,g=h=null),j}});e.JSON={parse:j.parse,stringify:j.stringify}}b&&define(function(){return j})}).call(this),"undefined"==typeof Element.prototype.insertAdjacentElement&&Object.defineProperty(Element.prototype,"insertAdjacentElement",{enumerable:!1,writable:!0,configurable:!0,value:function(a,b){switch(a.toString().toUpperCase()){case"BEFOREBEGIN":return this.parentNode.insertBefore(b,this);case"AFTERBEGIN":return this.insertBefore(b,this.firstChild);case"BEFOREEND":return this.appendChild(b);case"AFTEREND":return this.parentNode.insertBefore(b,this.nextSibling);default:throw new Error("Invalid element position `"+a+"`")}}}),function(a,b){"use strict";function c(){if(!f){f=!0;for(var a=0;a<e.length;a++)e[a].fn.call(window,e[a].ctx);e=[]}}function d(){"complete"===document.readyState&&c()}a=a||"docReady",b=b||window;var e=[],f=!1,g=!1;b[a]=function(a,b){return f?void setTimeout(function(){a(b)},1):(e.push({fn:a,ctx:b}),void("complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(c,1):g||(document.addEventListener?(document.addEventListener("DOMInteractive",c,!1),document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):(document.attachEvent("onreadystatechange",d),window.attachEvent("onload",c)),g=!0)))}}("docReady",window),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Raven=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b,c,d){return JSON.stringify(a,e(b,d),c)}function e(a,b){var c=[],d=[];return null==b&&(b=function(a,b){return c[0]===b?"[Circular ~]":"[Circular ~."+d.slice(0,c.indexOf(b)).join(".")+"]"}),function(e,f){if(c.length>0){var g=c.indexOf(this);~g?c.splice(g+1):c.push(this),~g?d.splice(g,1/0,e):d.push(e),~c.indexOf(f)&&(f=b.call(this,e,f))}else c.push(f);return null==a?f:a.call(this,e,f)}}c=b.exports=d,c.getSerialize=e},{}],2:[function(a,b,c){"use strict";function d(a){this.name="RavenConfigError",this.message=a}d.prototype=new Error,d.prototype.constructor=d,b.exports=d},{}],3:[function(a,b,c){"use strict";var d=function(a,b,c){var d=a[b],e=a;if(b in a){var f="warn"===b?"warning":b;a[b]=function(){var a=[].slice.call(arguments),b=""+a.join(" "),g={level:f,logger:"console",extra:{arguments:a}};c&&c(b,g),d&&Function.prototype.apply.call(d,e,a)}}};b.exports={wrapMethod:d}},{}],4:[function(a,b,c){(function(c){"use strict";function d(){return+new Date}function e(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!f(D),this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50,autoBreadcrumbs:!0},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=C.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=d(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=C.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var a in this._originalConsole)this._originalConsoleMethods[a]=this._originalConsole[a]}function f(a){return void 0===a}function g(a){return"function"==typeof a}function h(a){return"[object String]"===E.toString.call(a)}function i(a){return"object"==typeof a&&null!==a}function j(a){for(var b in a)return!1;return!0}function k(a){var b=E.toString.call(a);return i(a)&&"[object Error]"===b||"[object Exception]"===b||a instanceof Error}function l(a,b){var c,d;if(f(a.length))for(c in a)o(a,c)&&b.call(null,c,a[c]);else if(d=a.length)for(c=0;c<d;c++)b.call(null,c,a[c])}function m(a,b){return b?(l(b,function(b,c){a[b]=c}),a):a}function n(a,b){return!b||a.length<=b?a:a.substr(0,b)+"…"}function o(a,b){return E.hasOwnProperty.call(a,b)}function p(a){for(var b,c=[],d=0,e=a.length;d<e;d++)b=a[d],h(b)?c.push(b.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):b&&b.source&&c.push(b.source);return new RegExp(c.join("|"),"i")}function q(a){var b=[];return l(a,function(a,c){b.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}),b.join("&")}function r(a){var b=a.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!b)return{};var c=b[6]||"",d=b[8]||"";return{protocol:b[2],host:b[4],path:b[5],relative:b[5]+c+d}}function s(){var a=C.crypto||C.msCrypto;if(!f(a)&&a.getRandomValues){var b=new Uint16Array(8);a.getRandomValues(b),b[3]=4095&b[3]|16384,b[4]=16383&b[4]|32768;var c=function(a){for(var b=a.toString(16);b.length<4;)b="0"+b;return b};return c(b[0])+c(b[1])+c(b[2])+c(b[3])+c(b[4])+c(b[5])+c(b[6])+c(b[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}function t(a){for(var b,c=5,d=80,e=[],f=0,g=0,h=" > ",i=h.length;a&&f++<c&&(b=u(a),!("html"===b||f>1&&g+e.length*i+b.length>=d));)e.push(b),g+=b.length,a=a.parentNode;return e.reverse().join(h)}function u(a){var b,c,d,e,f,g=[];if(!a||!a.tagName)return"";if(g.push(a.tagName.toLowerCase()),a.id&&g.push("#"+a.id),b=a.className,b&&h(b))for(c=b.split(" "),f=0;f<c.length;f++)g.push("."+c[f]);var i=["type","name","title","alt"];for(f=0;f<i.length;f++)d=i[f],e=a.getAttribute(d),e&&g.push("["+d+'="'+e+'"]');return g.join("")}function v(a,b,c,d){var e=a[b];a[b]=c(e),d&&d.push([a,b,e])}var w=a(6),x=a(2),y=a(1),z=a(3).wrapMethod,A="source protocol user pass host port path".split(" "),B=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,C="undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{},D=C.document;e.prototype={VERSION:"3.10.0",debug:!1,TraceKit:w,config:function(a,b){var c=this;if(c._globalServer)return this._logDebug("error","Error: Raven has already been configured"),c;if(!a)return c;var d=c._globalOptions;b&&l(b,function(a,b){"tags"===a||"extra"===a||"user"===a?c._globalContext[a]=b:d[a]=b}),c.setDSN(a),d.ignoreErrors.push(/^Script error\.?$/),d.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),d.ignoreErrors=p(d.ignoreErrors),d.ignoreUrls=!!d.ignoreUrls.length&&p(d.ignoreUrls),d.whitelistUrls=!!d.whitelistUrls.length&&p(d.whitelistUrls),d.includePaths=p(d.includePaths),d.maxBreadcrumbs=Math.max(0,Math.min(d.maxBreadcrumbs||100,100));var e={xhr:!0,console:!0,dom:!0,location:!0},f=d.autoBreadcrumbs;return"[object Object]"==={}.toString.call(f)?f=m(e,f):f!==!1&&(f=e),d.autoBreadcrumbs=f,w.collectWindowErrors=!!d.collectWindowErrors,c},install:function(){var a=this;return a.isSetup()&&!a._isRavenInstalled&&(w.report.subscribe(function(){a._handleOnErrorStackInfo.apply(a,arguments)}),a._instrumentTryCatch(),a._globalOptions.autoBreadcrumbs&&a._instrumentBreadcrumbs(),a._drainPlugins(),a._isRavenInstalled=!0),Error.stackTraceLimit=a._globalOptions.stackTraceLimit,this},setDSN:function(a){var b=this,c=b._parseDSN(a),d=c.path.lastIndexOf("/"),e=c.path.substr(1,d);b._dsn=a,b._globalKey=c.user,b._globalSecret=c.pass&&c.pass.substr(1),b._globalProject=c.path.substr(d+1),b._globalServer=b._getGlobalServer(c),b._globalEndpoint=b._globalServer+"/"+e+"api/"+b._globalProject+"/store/",this._resetBackoff()},context:function(a,b,c){return g(a)&&(c=b||[],b=a,a=void 0),this.wrap(a,b).apply(this,c)},wrap:function(a,b,c){function d(){var d=[],f=arguments.length,h=!a||a&&a.deep!==!1;for(c&&g(c)&&c.apply(this,arguments);f--;)d[f]=h?e.wrap(a,arguments[f]):arguments[f];try{return b.apply(this,d)}catch(i){throw e._ignoreNextOnError(),e.captureException(i,a),i}}var e=this;if(f(b)&&!g(a))return a;if(g(a)&&(b=a,a=void 0),!g(b))return b;try{if(b.__raven__)return b;if(b.__raven_wrapper__)return b.__raven_wrapper__}catch(h){return b}for(var i in b)o(b,i)&&(d[i]=b[i]);return d.prototype=b.prototype,b.__raven_wrapper__=d,d.__raven__=!0,d.__inner__=b,d},uninstall:function(){return w.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(a,b){if(!k(a))return this.captureMessage(a,m({trimHeadFrames:1,stacktrace:!0},b));this._lastCapturedException=a;try{var c=w.computeStackTrace(a);this._handleStackInfo(c,b)}catch(d){if(a!==d)throw d}return this},captureMessage:function(a,b){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(a)){b=b||{};var c=m({message:a+""},b);if(this._globalOptions.stacktrace||b&&b.stacktrace){var d;try{throw new Error(a)}catch(e){d=e}d.name=null,b=m({fingerprint:a,trimHeadFrames:(b.trimHeadFrames||0)+1},b);var f=w.computeStackTrace(d),g=this._prepareFrames(f,b);c.stacktrace={frames:g.reverse()}}return this._send(c),this}},captureBreadcrumb:function(a){var b=m({timestamp:d()/1e3},a);if(g(this._globalOptions.breadcrumbCallback)){var c=this._globalOptions.breadcrumbCallback(b);if(i(c)&&!j(c))b=c;else if(c===!1)return this}return this._breadcrumbs.push(b),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(a){var b=[].slice.call(arguments,1);return this._plugins.push([a,b]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(a){return this._globalContext.user=a,this},setExtraContext:function(a){return this._mergeContext("extra",a),this},setTagsContext:function(a){return this._mergeContext("tags",a),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(y(this._globalContext))},setEnvironment:function(a){return this._globalOptions.environment=a,this},setRelease:function(a){return this._globalOptions.release=a,this},setDataCallback:function(a){var b=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=g(a)?function(c){return a(c,b)}:a,this},setBreadcrumbCallback:function(a){var b=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=g(a)?function(c){return a(c,b)}:a,this},setShouldSendCallback:function(a){var b=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=g(a)?function(c){return a(c,b)}:a,this},setTransport:function(a){return this._globalOptions.transport=a,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var a=C.RavenConfig;a&&this.config(a.dsn,a.config).install()},showReportDialog:function(a){if(D){a=a||{};var b=a.eventId||this.lastEventId();if(!b)throw new x("Missing eventId");var c=a.dsn||this._dsn;if(!c)throw new x("Missing DSN");var d=encodeURIComponent,e="";e+="?eventId="+d(b),e+="&dsn="+d(c);var f=a.user||this._globalContext.user;f&&(f.name&&(e+="&name="+d(f.name)),f.email&&(e+="&email="+d(f.email)));var g=this._getGlobalServer(this._parseDSN(c)),h=D.createElement("script");h.async=!0,h.src=g+"/api/embed/error-page/"+e,(D.head||D.body).appendChild(h)}},_ignoreNextOnError:function(){var a=this;this._ignoreOnError+=1,setTimeout(function(){a._ignoreOnError-=1})},_triggerEvent:function(a,b){var c,d;if(this._hasDocument){b=b||{},a="raven"+a.substr(0,1).toUpperCase()+a.substr(1),D.createEvent?(c=D.createEvent("HTMLEvents"),c.initEvent(a,!0,!0)):(c=D.createEventObject(),c.eventType=a);for(d in b)o(b,d)&&(c[d]=b[d]);if(D.createEvent)D.dispatchEvent(c);else try{D.fireEvent("on"+c.eventType.toLowerCase(),c)}catch(e){}}},_breadcrumbEventHandler:function(a){var b=this;return function(c){if(b._keypressTimeout=null,b._lastCapturedEvent!==c){b._lastCapturedEvent=c;var d,e=c.target;try{d=t(e)}catch(f){d="<unknown>"}b.captureBreadcrumb({category:"ui."+a,message:d})}}},_keypressEventHandler:function(){var a=this,b=1e3;return function(c){var d=c.target,e=d&&d.tagName;if(e&&("INPUT"===e||"TEXTAREA"===e||d.isContentEditable)){var f=a._keypressTimeout;f||a._breadcrumbEventHandler("input")(c),clearTimeout(f),a._keypressTimeout=setTimeout(function(){a._keypressTimeout=null},b)}}},_captureUrlChange:function(a,b){var c=r(this._location.href),d=r(b),e=r(a);this._lastHref=b,c.protocol===d.protocol&&c.host===d.host&&(b=d.relative),c.protocol===e.protocol&&c.host===e.host&&(a=e.relative),this.captureBreadcrumb({category:"navigation",data:{to:b,from:a}})},_instrumentTryCatch:function(){function a(a){return function(b,d){for(var e=new Array(arguments.length),f=0;f<e.length;++f)e[f]=arguments[f];var h=e[0];return g(h)&&(e[0]=c.wrap(h)),a.apply?a.apply(this,e):a(e[0],e[1])}}function b(a){var b=C[a]&&C[a].prototype;b&&b.hasOwnProperty&&b.hasOwnProperty("addEventListener")&&(v(b,"addEventListener",function(b){return function(d,f,g,h){try{f&&f.handleEvent&&(f.handleEvent=c.wrap(f.handleEvent))}catch(i){}var j,k,l;return e&&e.dom&&("EventTarget"===a||"Node"===a)&&(k=c._breadcrumbEventHandler("click"),l=c._keypressEventHandler(),j=function(a){if(a)return"click"===a.type?k(a):"keypress"===a.type?l(a):void 0}),b.call(this,d,c.wrap(f,void 0,j),g,h)}},d),v(b,"removeEventListener",function(a){return function(b,c,d,e){try{c=c&&(c.__raven_wrapper__?c.__raven_wrapper__:c)}catch(f){}return a.call(this,b,c,d,e)}},d))}var c=this,d=c._wrappedBuiltIns,e=this._globalOptions.autoBreadcrumbs;v(C,"setTimeout",a,d),v(C,"setInterval",a,d),C.requestAnimationFrame&&v(C,"requestAnimationFrame",function(a){return function(b){return a(c.wrap(b))}},d);for(var f=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],h=0;h<f.length;h++)b(f[h]);var i=C.jQuery||C.$;i&&i.fn&&i.fn.ready&&v(i.fn,"ready",function(a){return function(b){return a.call(this,c.wrap(b))}},d)},_instrumentBreadcrumbs:function(){function a(a,c){a in c&&g(c[a])&&v(c,a,function(a){return b.wrap(a)})}var b=this,c=this._globalOptions.autoBreadcrumbs,d=b._wrappedBuiltIns;if(c.xhr&&"XMLHttpRequest"in C){var e=XMLHttpRequest.prototype;v(e,"open",function(a){return function(c,d){return h(d)&&d.indexOf(b._globalKey)===-1&&(this.__raven_xhr={method:c,url:d,status_code:null}),a.apply(this,arguments)}},d),v(e,"send",function(c){return function(d){function e(){if(f.__raven_xhr&&(1===f.readyState||4===f.readyState)){try{f.__raven_xhr.status_code=f.status}catch(a){}b.captureBreadcrumb({type:"http",category:"xhr",data:f.__raven_xhr})}}for(var f=this,h=["onload","onerror","onprogress"],i=0;i<h.length;i++)a(h[i],f);return"onreadystatechange"in f&&g(f.onreadystatechange)?v(f,"onreadystatechange",function(a){return b.wrap(a,void 0,e)}):f.onreadystatechange=e,c.apply(this,arguments)}},d)}c.xhr&&"fetch"in C&&v(C,"fetch",function(a){return function(c,d){for(var e=new Array(arguments.length),f=0;f<e.length;++f)e[f]=arguments[f];var g="GET";e[1]&&e[1].method&&(g=e[1].method);var h={method:g,url:e[0],status_code:null};return b.captureBreadcrumb({type:"http",category:"fetch",data:h}),a.apply(this,e).then(function(a){return h.status_code=a.status,a})}},d),c.dom&&this._hasDocument&&(D.addEventListener?(D.addEventListener("click",b._breadcrumbEventHandler("click"),!1),D.addEventListener("keypress",b._keypressEventHandler(),!1)):(D.attachEvent("onclick",b._breadcrumbEventHandler("click")),D.attachEvent("onkeypress",b._keypressEventHandler())));var f=C.chrome,i=f&&f.app&&f.app.runtime,j=!i&&C.history&&history.pushState;if(c.location&&j){var k=C.onpopstate;C.onpopstate=function(){var a=b._location.href;if(b._captureUrlChange(b._lastHref,a),k)return k.apply(this,arguments)},v(history,"pushState",function(a){return function(){var c=arguments.length>2?arguments[2]:void 0;return c&&b._captureUrlChange(b._lastHref,c+""),a.apply(this,arguments)}},d)}if(c.console&&"console"in C&&console.log){var m=function(a,c){b.captureBreadcrumb({message:a,level:c.level,category:"console"})};l(["debug","info","warn","error","log"],function(a,b){z(console,b,m)})}},_restoreBuiltIns:function(){for(var a;this._wrappedBuiltIns.length;){a=this._wrappedBuiltIns.shift();var b=a[0],c=a[1],d=a[2];b[c]=d}},_drainPlugins:function(){var a=this;l(this._plugins,function(b,c){var d=c[0],e=c[1];d.apply(a,[a].concat(e))})},_parseDSN:function(a){var b=B.exec(a),c={},d=7;try{for(;d--;)c[A[d]]=b[d]||""}catch(e){throw new x("Invalid DSN: "+a)}if(c.pass&&!this._globalOptions.allowSecretKey)throw new x("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return c},_getGlobalServer:function(a){var b="//"+a.host+(a.port?":"+a.port:"");return a.protocol&&(b=a.protocol+":"+b),b},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(a,b){var c=this._prepareFrames(a,b);this._triggerEvent("handle",{stackInfo:a,options:b}),this._processException(a.name,a.message,a.url,a.lineno,c,b)},_prepareFrames:function(a,b){var c=this,d=[];if(a.stack&&a.stack.length&&(l(a.stack,function(a,b){var e=c._normalizeFrame(b);e&&d.push(e)}),b&&b.trimHeadFrames))for(var e=0;e<b.trimHeadFrames&&e<d.length;e++)d[e].in_app=!1;return d=d.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(a){if(a.url){var b={filename:a.url,lineno:a.line,colno:a.column,"function":a.func||"?"};return b.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(b.filename)||/(Raven|TraceKit)\./.test(b["function"])||/raven\.(min\.)?js$/.test(b.filename)),b}},_processException:function(a,b,c,d,e,f){var g;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(b))&&(b+="",e&&e.length?(c=e[0].filename||c,e.reverse(),g={frames:e}):c&&(g={frames:[{filename:c,lineno:d,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(c))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(c)))){var h=m({exception:{values:[{type:a,value:b,stacktrace:g}]},culprit:c},f);this._send(h)}},_trimPacket:function(a){var b=this._globalOptions.maxMessageLength;if(a.message&&(a.message=n(a.message,b)),a.exception){var c=a.exception.values[0];c.value=n(c.value,b)}return a},_getHttpData:function(){if(this._hasDocument&&D.location&&D.location.href){var a={headers:{"User-Agent":navigator.userAgent}};return a.url=D.location.href,D.referrer&&(a.headers.Referer=D.referrer),a}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&d()-this._backoffStart<this._backoffDuration},_setBackoffState:function(a){if(!this._shouldBackoff()){var b=a.status;if(400===b||401===b||429===b){var c;try{c=a.getResponseHeader("Retry-After"),c=parseInt(c,10)}catch(e){}this._backoffDuration=c?c:2*this._backoffDuration||1e3,this._backoffStart=d()}}},_send:function(a){var b=this._globalOptions,c={project:this._globalProject,logger:b.logger,platform:"javascript"},e=this._getHttpData();if(e&&(c.request=e),a.trimHeadFrames&&delete a.trimHeadFrames,a=m(c,a),a.tags=m(m({},this._globalContext.tags),a.tags),a.extra=m(m({},this._globalContext.extra),a.extra),a.extra["session:duration"]=d()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(a.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),j(a.tags)&&delete a.tags,this._globalContext.user&&(a.user=this._globalContext.user),b.environment&&(a.environment=b.environment),b.release&&(a.release=b.release),b.serverName&&(a.server_name=b.serverName),g(b.dataCallback)&&(a=b.dataCallback(a)||a),a&&!j(a)&&(!g(b.shouldSendCallback)||b.shouldSendCallback(a)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",a):void this._sendProcessedPayload(a)},_getUuid:function(){return s()},_sendProcessedPayload:function(a,b){var c=this,d=this._globalOptions;if(this.isSetup()){this._lastEventId=a.event_id||(a.event_id=this._getUuid()),a=this._trimPacket(a),this._logDebug("debug","Raven about to send:",a);var e={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(e.sentry_secret=this._globalSecret);var f=a.exception&&a.exception.values[0];this.captureBreadcrumb({category:"sentry",message:f?(f.type?f.type+": ":"")+f.value:a.message,event_id:a.event_id,level:a.level||"error"});var g=this._globalEndpoint;(d.transport||this._makeRequest).call(this,{url:g,auth:e,data:a,options:d,onSuccess:function(){c._resetBackoff(),c._triggerEvent("success",{data:a,src:g}),b&&b()},onError:function(d){c._logDebug("error","Raven transport failed to send: ",d),d.request&&c._setBackoffState(d.request),c._triggerEvent("failure",{data:a,src:g}),d=d||new Error("Raven send failed (no additional details provided)"),b&&b(d)}})}},_makeRequest:function(a){function b(){if(200===c.status)a.onSuccess&&a.onSuccess();else if(a.onError){var b=new Error("Sentry error code: "+c.status);b.request=c,a.onError(b)}}var c=new XMLHttpRequest,d="withCredentials"in c||"undefined"!=typeof XDomainRequest;if(d){var e=a.url;"withCredentials"in c?c.onreadystatechange=function(){4===c.readyState&&b()}:(c=new XDomainRequest,e=e.replace(/^https?:/,""),c.onload=b),c.open("POST",e+"?"+q(a.auth)),c.send(y(a.data))}},_logDebug:function(a){this._originalConsoleMethods[a]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[a],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(a,b){f(b)?delete this._globalContext[a]:this._globalContext[a]=m(this._globalContext[a]||{},b)}};var E=Object.prototype;"undefined"!=typeof __DEV__&&__DEV__&&(e.utils={isUndefined:f,isFunction:g,isString:h,isObject:i,isEmptyObject:j,isError:k,each:l,objectMerge:m,truncate:n,hasKey:o,joinRegExp:p,urlencode:q,uuid4:s,htmlTreeAsString:t,htmlElementAsString:u,parseUrl:r,fill:v}),e.prototype.setUser=e.prototype.setUserContext,e.prototype.setReleaseContext=e.prototype.setRelease,b.exports=e}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,3:3,6:6}],5:[function(a,b,c){(function(c){"use strict";var d=a(4),e="undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{},f=e.Raven,g=new d;g.noConflict=function(){return e.Raven=f,g},g.afterLoad(),b.exports=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{4:4}],6:[function(a,b,c){(function(a){"use strict";function c(){return"undefined"==typeof document||"undefined"==typeof document.location?"":document.location.href}var d={collectWindowErrors:!0,debug:!1},e="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{},f=[].slice,g="?",h=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;d.report=function(){function a(a){l(),r.push(a)}function b(a){for(var b=r.length-1;b>=0;--b)r[b]===a&&r.splice(b,1)}function i(){m(),r=[]}function j(a,b){var c=null;if(!b||d.collectWindowErrors){for(var e in r)if(r.hasOwnProperty(e))try{r[e].apply(null,[a].concat(f.call(arguments,2)))}catch(g){c=g}if(c)throw c}}function k(a,b,e,f,i){var k=null;if(u)d.computeStackTrace.augmentStackTraceWithInitialElement(u,b,e,a),n();else if(i)k=d.computeStackTrace(i),j(k,!0);else{var l,m={url:b,line:e,column:f},o=void 0,q=a;if("[object String]"==={}.toString.call(a)){
var l=a.match(h);l&&(o=l[1],q=l[2])}m.func=g,k={name:o,message:q,url:c(),stack:[m]},j(k,!0)}return!!p&&p.apply(this,arguments)}function l(){q||(p=e.onerror,e.onerror=k,q=!0)}function m(){q&&(e.onerror=p,q=!1,p=void 0)}function n(){var a=u,b=s;s=null,u=null,t=null,j.apply(null,[a,!1].concat(b))}function o(a,b){var c=f.call(arguments,1);if(u){if(t===a)return;n()}var e=d.computeStackTrace(a);if(u=e,t=a,s=c,setTimeout(function(){t===a&&n()},e.incomplete?2e3:0),b!==!1)throw a}var p,q,r=[],s=null,t=null,u=null;return o.subscribe=a,o.unsubscribe=b,o.uninstall=i,o}(),d.computeStackTrace=function(){function a(a){if("undefined"!=typeof a.stack&&a.stack){for(var b,d,e=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,f=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,h=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,i=a.stack.split("\n"),j=[],k=(/^(.*) is undefined$/.exec(a.message),0),l=i.length;k<l;++k){if(b=e.exec(i[k])){var m=b[2]&&b[2].indexOf("native")!==-1;d={url:m?null:b[2],func:b[1]||g,args:m?[b[2]]:[],line:b[3]?+b[3]:null,column:b[4]?+b[4]:null}}else if(b=h.exec(i[k]))d={url:b[2],func:b[1]||g,args:[],line:+b[3],column:b[4]?+b[4]:null};else{if(!(b=f.exec(i[k])))continue;d={url:b[3],func:b[1]||g,args:b[2]?b[2].split(","):[],line:b[4]?+b[4]:null,column:b[5]?+b[5]:null}}!d.func&&d.line&&(d.func=g),j.push(d)}return j.length?(j[0].column||"undefined"==typeof a.columnNumber||(j[0].column=a.columnNumber+1),{name:a.name,message:a.message,url:c(),stack:j}):null}}function b(a,b,c,d){var e={url:b,line:c};if(e.url&&e.line){if(a.incomplete=!1,e.func||(e.func=g),a.stack.length>0&&a.stack[0].url===e.url){if(a.stack[0].line===e.line)return!1;if(!a.stack[0].line&&a.stack[0].func===e.func)return a.stack[0].line=e.line,!1}return a.stack.unshift(e),a.partial=!0,!0}return a.incomplete=!0,!1}function e(a,h){for(var i,j,k=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],m={},n=!1,o=e.caller;o&&!n;o=o.caller)if(o!==f&&o!==d.report){if(j={url:null,func:g,line:null,column:null},o.name?j.func=o.name:(i=k.exec(o.toString()))&&(j.func=i[1]),"undefined"==typeof j.func)try{j.func=i.input.substring(0,i.input.indexOf("{"))}catch(p){}m[""+o]?n=!0:m[""+o]=!0,l.push(j)}h&&l.splice(0,h);var q={name:a.name,message:a.message,url:c(),stack:l};return b(q,a.sourceURL||a.fileName,a.line||a.lineNumber,a.message||a.description),q}function f(b,f){var g=null;f=null==f?0:+f;try{if(g=a(b))return g}catch(h){if(d.debug)throw h}try{if(g=e(b,f+1))return g}catch(h){if(d.debug)throw h}return{name:b.name,message:b.message,url:c()}}return f.augmentStackTraceWithInitialElement=b,f.computeStackTraceFromStackProp=a,f}(),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[5])(5)}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.postscribe=b():a.postscribe=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e);a.exports=f["default"]},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(){}function g(){var a=q.shift();if(a){var b=n.last(a);b.afterDequeue(),a.stream=h.apply(void 0,a),b.afterStreamStart()}}function h(a,b,c){function d(a){a=c.beforeWrite(a),r.write(a),c.afterWrite(a)}r=new l["default"](a,c),r.id=p++,r.name=c.name||r.id,i.streams[r.name]=r;var e=a.ownerDocument,h={close:e.close,open:e.open,write:e.write,writeln:e.writeln};j(e,{close:f,open:f,write:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d(b.join(""))},writeln:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d(b.join("")+"\n")}});var k=r.win.onerror||f;return r.win.onerror=function(a,b,d){c.error({msg:a+" - "+b+": "+d}),k.apply(r.win,[a,b,d])},r.write(b,function(){j(e,h),r.win.onerror=k,c.done(),r=null,g()}),r}function i(a,b,c){if(n.isFunction(c))c={done:c};else if("clear"===c)return q=[],r=null,void(p=0);c=n.defaults(c,o),a=/^#/.test(a)?window.document.getElementById(a.substr(1)):a.jquery?a[0]:a;var d=[a,b,c];return a.postscribe={cancel:function(){d.stream?d.stream.abort():d[1]=f}},c.beforeEnqueue(d),q.push(d),r||g(),a.postscribe}b.__esModule=!0;var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};b["default"]=i;var k=c(2),l=e(k),m=c(4),n=d(m),o={afterAsync:f,afterDequeue:f,afterStreamStart:f,afterWrite:f,autoFix:!0,beforeEnqueue:f,beforeWriteToken:function(a){return a},beforeWrite:function(a){return a},done:f,error:function(a){throw new Error(a.msg)},releaseAsync:!1},p=0,q=[],r=null;j(i,{streams:{},queue:q,WriteStream:l["default"]})},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){var c=o+b,d=a.getAttribute(c);return m.existy(d)?String(d):d}function h(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=o+b;m.existy(c)&&""!==c?a.setAttribute(d,c):a.removeAttribute(d)}b.__esModule=!0;var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=c(3),k=e(j),l=c(4),m=d(l),n=!1,o="data-ps-",p="ps-style",q="ps-script",r=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,a),this.root=b,this.options=c,this.doc=b.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new k["default"]("",{autoFix:c.autoFix}),this.actuals=[b],this.proxyHistory="",this.proxyRoot=this.doc.createElement(b.nodeName),this.scriptStack=[],this.writeQueue=[],h(this.proxyRoot,"proxyof",0)}return a.prototype.write=function(){var a;for((a=this.writeQueue).push.apply(a,arguments);!this.deferredRemote&&this.writeQueue.length;){var b=this.writeQueue.shift();m.isFunction(b)?this._callFunction(b):this._writeImpl(b)}},a.prototype._callFunction=function(a){var b={type:"function",value:a.name||a.toString()};this._onScriptStart(b),a.call(this.win,this.doc),this._onScriptDone(b)},a.prototype._writeImpl=function(a){this.parser.append(a);for(var b=void 0,c=void 0,d=void 0,e=[];(b=this.parser.readToken())&&!(c=m.isScript(b))&&!(d=m.isStyle(b));)b=this.options.beforeWriteToken(b),b&&e.push(b);e.length>0&&this._writeStaticTokens(e),c&&this._handleScriptToken(b),d&&this._handleStyleToken(b)},a.prototype._writeStaticTokens=function(a){var b=this._buildChunk(a);return b.actual?(b.html=this.proxyHistory+b.actual,this.proxyHistory+=b.proxy,this.proxyRoot.innerHTML=b.html,n&&(b.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),n&&(b.actualInnerHTML=this.root.innerHTML),b):null},a.prototype._buildChunk=function(a){for(var b=this.actuals.length,c=[],d=[],e=[],f=a.length,g=0;g<f;g++){var h=a[g],i=h.toString();if(c.push(i),h.attrs){if(!/^noscript$/i.test(h.tagName)){var j=b++;d.push(i.replace(/(\/?>)/," "+o+"id="+j+" $1")),h.attrs.id!==q&&h.attrs.id!==p&&e.push("atomicTag"===h.type?"":"<"+h.tagName+" "+o+"proxyof="+j+(h.unary?" />":">"))}}else d.push(i),e.push("endTag"===h.type?i:"")}return{tokens:a,raw:c.join(""),actual:d.join(""),proxy:e.join("")}},a.prototype._walkChunk=function(){for(var a=void 0,b=[this.proxyRoot];m.existy(a=b.shift());){var c=1===a.nodeType,d=c&&g(a,"proxyof");if(!d){c&&(this.actuals[g(a,"id")]=a,h(a,"id"));var e=a.parentNode&&g(a.parentNode,"proxyof");e&&this.actuals[e].appendChild(a)}b.unshift.apply(b,m.toArray(a.childNodes))}},a.prototype._handleScriptToken=function(a){var b=this,c=this.parser.clear();c&&this.writeQueue.unshift(c),a.src=a.attrs.src||a.attrs.SRC,a=this.options.beforeWriteToken(a),a&&(a.src&&this.scriptStack.length?this.deferredRemote=a:this._onScriptStart(a),this._writeScriptToken(a,function(){b._onScriptDone(a)}))},a.prototype._handleStyleToken=function(a){var b=this.parser.clear();b&&this.writeQueue.unshift(b),a.type=a.attrs.type||a.attrs.TYPE||"text/css",a=this.options.beforeWriteToken(a),a&&this._writeStyleToken(a),b&&this.write()},a.prototype._writeStyleToken=function(a){var b=this._buildStyle(a);this._insertCursor(b,p),a.content&&(b.styleSheet&&!b.sheet?b.styleSheet.cssText=a.content:b.appendChild(this.doc.createTextNode(a.content)))},a.prototype._buildStyle=function(a){var b=this.doc.createElement(a.tagName);return b.setAttribute("type",a.type),m.eachKey(a.attrs,function(a,c){b.setAttribute(a,c)}),b},a.prototype._insertCursor=function(a,b){this._writeImpl('<span id="'+b+'"/>');var c=this.doc.getElementById(b);c&&c.parentNode.replaceChild(a,c)},a.prototype._onScriptStart=function(a){a.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(a)},a.prototype._onScriptDone=function(a){return a!==this.scriptStack[0]?void this.options.error({msg:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,a.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)))},a.prototype._writeScriptToken=function(a,b){var c=this._buildScript(a),d=this._shouldRelease(c),e=this.options.afterAsync;a.src&&(c.src=a.src,this._scriptLoadHandler(c,d?e:function(){b(),e()}));try{this._insertCursor(c,q),c.src&&!d||b()}catch(f){this.options.error(f),b()}},a.prototype._buildScript=function(a){var b=this.doc.createElement(a.tagName);return m.eachKey(a.attrs,function(a,c){b.setAttribute(a,c)}),a.content&&(b.text=a.content),b},a.prototype._scriptLoadHandler=function(a,b){function c(){a=a.onload=a.onreadystatechange=a.onerror=null}function d(){c(),null!=b&&b(),b=null}function e(a){c(),g(a),null!=b&&b(),b=null}function f(a,b){var c=a["on"+b];null!=c&&(a["_on"+b]=c)}var g=this.options.error;f(a,"load"),f(a,"error"),i(a,{onload:function(){if(a._onload)try{a._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(b){e({msg:"onload handler failed "+b+" @ "+a.src})}d()},onerror:function(){if(a._onerror)try{a._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(b){return void e({msg:"onerror handler failed "+b+" @ "+a.src})}e({msg:"remote script failed "+a.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(a.readyState)&&d()}})},a.prototype._shouldRelease=function(a){var b=/^script$/i.test(a.nodeName);return!b||!!(this.options.releaseAsync&&a.src&&a.hasAttribute("async"))},a}();b["default"]=r},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=c(1),f=d(e);a.exports=f["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.__esModule=!0;var g=c(2),h=e(g),i=c(3),j=e(i),k=c(6),l=d(k),m=c(5),n={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,a),this.stream=c;var e=!1,g={};for(var i in h)h.hasOwnProperty(i)&&(d.autoFix&&(g[i+"Fix"]=!0),e=e||g[i+"Fix"]);e?(this._readToken=(0,l["default"])(this,g,function(){return b._readTokenImpl()}),this._peekToken=(0,l["default"])(this,g,function(){return b._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return a.prototype.append=function(a){this.stream+=a},a.prototype.prepend=function(a){this.stream=a+this.stream},a.prototype._readTokenImpl=function(){var a=this._peekTokenImpl();if(a)return this.stream=this.stream.slice(a.length),a},a.prototype._peekTokenImpl=function(){for(var a in n)if(n.hasOwnProperty(a)&&n[a].test(this.stream)){var b=j[a](this.stream);if(b)return"startTag"===b.type&&/script|style/i.test(b.tagName)?null:(b.text=this.stream.substr(0,b.length),b)}},a.prototype.peekToken=function(){return this._peekToken()},a.prototype.readToken=function(){return this._readToken()},a.prototype.readTokens=function(a){for(var b=void 0;b=this.readToken();)if(a[b.type]&&a[b.type](b)===!1)return},a.prototype.clear=function(){var a=this.stream;return this.stream="",a},a.prototype.rest=function(){return this.stream},a}();b["default"]=o,o.tokenToString=function(a){return a.toString()},o.escapeAttributes=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=(0,m.escapeQuotes)(a[c],null));return b},o.supports=h;for(var p in h)h.hasOwnProperty(p)&&(o.browserHasFlaw=o.browserHasFlaw||!h[p]&&p)},function(a,b){"use strict";b.__esModule=!0;var c=!1,d=!1,e=window.document.createElement("div");try{var f="<P><I></P></I>";e.innerHTML=f,b.tagSoup=c=e.innerHTML!==f}catch(g){b.tagSoup=c=!1}try{e.innerHTML="<P><i><P></P></i></P>",b.selfClose=d=2===e.childNodes.length}catch(g){b.selfClose=d=!1}e=null,b.tagSoup=c,b.selfClose=d},function(a,b,c){"use strict";function d(a){var b=a.indexOf("-->");if(b>=0)return new j.CommentToken(a.substr(4,b-1),b+3)}function e(a){var b=a.indexOf("<");return new j.CharsToken(b>=0?b:a.length)}function f(a){var b=a.indexOf(">");if(b!==-1){var c=a.match(k.startTag);if(c){var d=function(){var a={},b={},d=c[2];return c[2].replace(k.attr,function(c,e){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(a[arguments[5]]="",b[arguments[5]]=!0):a[e]=arguments[2]||arguments[3]||arguments[4]||k.fillAttr.test(e)&&e||"":a[e]="",d=d.replace(c,"")}),{v:new j.StartTagToken(c[1],c[0].length,a,b,(!!c[3]),d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if("object"===("undefined"==typeof d?"undefined":i(d)))return d.v}}}function g(a){var b=f(a);if(b){var c=a.slice(b.length);if(c.match(new RegExp("</\\s*"+b.tagName+"\\s*>","i"))){var d=c.match(new RegExp("([\\s\\S]*?)</\\s*"+b.tagName+"\\s*>","i"));if(d)return new j.AtomicTagToken(b.tagName,d[0].length+b.length,b.attrs,b.booleanAttrs,d[1])}}}function h(a){var b=a.match(k.endTag);if(b)return new j.EndTagToken(b[1],b[0].length)}b.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.comment=d,b.chars=e,b.startTag=f,b.atomicTag=g,b.endTag=h;var j=c(4),k={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}b.__esModule=!0,b.EndTagToken=b.AtomicTagToken=b.StartTagToken=b.TagToken=b.CharsToken=b.CommentToken=b.Token=void 0;var e=c(5),f=(b.Token=function g(a,b){d(this,g),this.type=a,this.length=b,this.text=""},b.CommentToken=function(){function a(b,c){d(this,a),this.type="comment",this.length=c||(b?b.length:0),this.text="",this.content=b}return a.prototype.toString=function(){return"<!--"+this.content},a}(),b.CharsToken=function(){function a(b){d(this,a),this.type="chars",this.length=b,this.text=""}return a.prototype.toString=function(){return this.text},a}(),b.TagToken=function(){function a(b,c,e,f,g){d(this,a),this.type=b,this.length=e,this.text="",this.tagName=c,this.attrs=f,this.booleanAttrs=g,this.unary=!1,this.html5Unary=!1}return a.formatTag=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c="<"+a.tagName;for(var d in a.attrs)if(a.attrs.hasOwnProperty(d)){c+=" "+d;var f=a.attrs[d];"undefined"!=typeof a.booleanAttrs&&"undefined"!=typeof a.booleanAttrs[d]||(c+='="'+(0,e.escapeQuotes)(f)+'"')}return a.rest&&(c+=" "+a.rest),c+=a.unary&&!a.html5Unary?"/>":">",void 0!==b&&null!==b&&(c+=b+"</"+a.tagName+">"),c},a}());b.StartTagToken=function(){function a(b,c,e,f,g,h){d(this,a),this.type="startTag",this.length=c,this.text="",this.tagName=b,this.attrs=e,this.booleanAttrs=f,this.html5Unary=!1,this.unary=g,this.rest=h}return a.prototype.toString=function(){return f.formatTag(this)},a}(),b.AtomicTagToken=function(){function a(b,c,e,f,g){d(this,a),this.type="atomicTag",this.length=c,this.text="",this.tagName=b,this.attrs=e,this.booleanAttrs=f,this.unary=!1,this.html5Unary=!1,this.content=g}return a.prototype.toString=function(){return f.formatTag(this,this.content)},a}(),b.EndTagToken=function(){function a(b,c){d(this,a),this.type="endTag",this.length=c,this.text="",this.tagName=b}return a.prototype.toString=function(){return"</"+this.tagName+">"},a}()},function(a,b){"use strict";function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a?a.replace(/([^"]*)"/g,function(a,b){return/\\/.test(b)?b+'"':b+'\\"'}):b}b.__esModule=!0,b.escapeQuotes=c},function(a,b){"use strict";function c(a){return a&&"startTag"===a.type&&(a.unary=h.test(a.tagName)||a.unary,a.html5Unary=!/\/>$/.test(a.text)),a}function d(a,b){var d=a.stream,e=c(b());return a.stream=d,e}function e(a,b){var c=b.pop();a.prepend("</"+c.tagName+">")}function f(){var a=[];return a.last=function(){return this[this.length-1]},a.lastTagNameEq=function(a){var b=this.last();return b&&b.tagName&&b.tagName.toUpperCase()===a.toUpperCase()},a.containsTagName=function(a){for(var b,c=0;b=this[c];c++)if(b.tagName===a)return!0;return!1},a}function g(a,b,g){function h(){var b=d(a,g);b&&k[b.type]&&k[b.type](b)}var j=f(),k={startTag:function(c){var d=c.tagName;"TR"===d.toUpperCase()&&j.lastTagNameEq("TABLE")?(a.prepend("<TBODY>"),h()):b.selfCloseFix&&i.test(d)&&j.containsTagName(d)?j.lastTagNameEq(d)?e(a,j):(a.prepend("</"+c.tagName+">"),h()):c.unary||j.push(c)},endTag:function(c){var d=j.last();d?b.tagSoupFix&&!j.lastTagNameEq(c.tagName)?e(a,j):j.pop():b.tagSoupFix&&(g(),h())}};return function(){return h(),c(g())}}b.__esModule=!0,b["default"]=g;var h=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,i=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(a,b){"use strict";function c(a){return void 0!==a&&null!==a}function d(a){return"function"==typeof a}function e(a,b,c){var d=void 0,e=a&&a.length||0;for(d=0;d<e;d++)b.call(c,a[d],d)}function f(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.call(c,d,a[d])}function g(a,b){return a=a||{},f(b,function(b,d){c(a[b])||(a[b]=d)}),a}function h(a){try{return Array.prototype.slice.call(a)}catch(b){var c=function(){var b=[];return e(a,function(a){b.push(a)}),{v:b}}();if("object"===("undefined"==typeof c?"undefined":m(c)))return c.v}}function i(a){return a[a.length-1]}function j(a,b){return!(!a||"startTag"!==a.type&&"atomicTag"!==a.type||!("tagName"in a))&&!!~a.tagName.toLowerCase().indexOf(b)}function k(a){return j(a,"script")}function l(a){return j(a,"style")}b.__esModule=!0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.existy=c,b.isFunction=d,b.each=e,b.eachKey=f,b.defaults=g,b.toArray=h,b.last=i,b.isTag=j,b.isScript=k,b.isStyle=l}])}),function(a){"use strict";function b(){var b=a.crypto||a.msCrypto;if(!g&&b&&b.getRandomValues)try{var c=new Uint8Array(16);j=g=function(){return b.getRandomValues(c),c},g()}catch(d){}if(!g){var e=new Array(16);h=g=function(){for(var a,b=0;b<16;b++)0===(3&b)&&(a=4294967296*Math.random()),e[b]=a>>>((3&b)<<3)&255;return e}}}function c(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){e<16&&(b[d+e++]=n[a])});e<16;)b[d+e++]=0;return b}function d(a,b){var c=b||0,d=m;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function e(a,b,c){var e=b&&c||0,f=b||[];a=a||{};var g=null!=a.clockseq?a.clockseq:r,h=null!=a.msecs?a.msecs:(new Date).getTime(),i=null!=a.nsecs?a.nsecs:t+1,j=h-s+(i-t)/1e4;if(j<0&&null==a.clockseq&&(g=g+1&16383),(j<0||h>s)&&null==a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,t=i,r=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[e++]=k>>>24&255,f[e++]=k>>>16&255,f[e++]=k>>>8&255,f[e++]=255&k;var l=h/4294967296*1e4&268435455;f[e++]=l>>>8&255,f[e++]=255&l,f[e++]=l>>>24&15|16,f[e++]=l>>>16&255,f[e++]=g>>>8|128,f[e++]=255&g;for(var m=a.node||q,n=0;n<6;n++)f[e+n]=m[n];return b?b:d(f)}function f(a,b,c){var e=b&&c||0;"string"==typeof a&&(b="binary"===a?new l(16):null,a=null),a=a||{};var f=a.random||(a.rng||g)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b)for(var h=0;h<16;h++)b[e+h]=f[h];return b||d(f)}var g,h,i,j,k;b();for(var l="function"==typeof Buffer?Buffer:Array,m=[],n={},o=0;o<256;o++)m[o]=(o+256).toString(16).substr(1),n[m[o]]=o;var p=g(),q=[1|p[0],p[1],p[2],p[3],p[4],p[5]],r=16383&(p[6]<<8|p[7]),s=0,t=0,u=f;u.v1=e,u.v4=f,u.parse=c,u.unparse=d,u.BufferClass=l,u._rng=g,u._mathRNG=h,u._nodeRNG=i,u._whatwgRNG=j,k=a.uuid,u.noConflict=function(){return a.uuid=k,u},a.uuid=u}("undefined"!=typeof window?window:null);var BB_UUID=BB_UUID||uuid.noConflict(),BB=BB||function(a,b){function c(){if(!i.isFramed()){var a=i.getCookie(j);parseInt(a)?a++:a=1,i.cookie(j,a,new Date(i.now()+12e5).toGMTString()),n._requestArgs.sd=a}}var d,e,f,g,h,i,j,k,l={},m=function(){var a=!1;return function(){a||(c(),a=!0)}}(),n=function(a){var b=new BB.AdRequest(a,{url:i.detectPageURL(),ref:i.detectRefererURL(),gw:d,trck:e,redir:f,conv:g,stack:i.getAllStack()});return l[b.get("o")]=b,b};return n._customVars={},n._requestArgs={},n.addVariable=function(a,b,c,d){var e=n._customVars,f=(c||"c")+"."+a;!d&&e[f]||(e[f]=[]),e[f].push(b)},n.getFramed=function(){return k},n.init=function(a){d=a.gw,e=a.trckgw,g=a.convgw,f=a.redirgw,h=a.version,j=a.adloadCountCookie,i=BB.utils,m()},n.loadAds=function(a){n().loadAdResponse(a)},n.requestAds=function(a,b){n(a).fetchAds(b)},n.callFallback=function(a,b){i.each(l,function(c,d){d.passBack(a,b)})},n.recordConversion=function(a,b){var c=i.contextArgs(),d=i.getParams();c.stck=i.getAllStack().stack,c.ju=i.ensureRightProtocol(i.detectPageURL()),c.jr=i.detectRefererURL(),c.xid="undefined"!=typeof BB_impid&&BB_impid&&BB_impid.indexOf("<")==-1?BB_impid:"undefined"!=typeof d.impid&&d.impid&&d.impid.indexOf("<")==-1?d.impid:"",c.userid="undefined"!=typeof BB_userid&&BB_userid&&BB_userid.indexOf("<")==-1?BB_userid:"",b?c.atvi=a:c.cnvi=a,i.isFramed()||(c.sd=i.getCookie(j));var e=i.serialize(c);i.beacon(i.template(i.Templates.CONV_URL,{conv:g,v:"1.0",r:"go",q:e}))},n}(window,document);BB.utils=BB.utils||function(a,b,c){var d,e="w",f=!0,g=1e6;return d={IMAGE_BEACON_TEMPLATE:"<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='{src}'/></div>",append:function(a,b){return a&&a.parentNode.insertBefore(b,a.nextSibling),b},appendHtml:function(a,b){document.getElementById(a).insertAdjacentHTML("beforeend",b)},attachListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},beacon:function(a){var b=d.ensureRightProtocol(a);(new Image).src=b},contextArgs:function(){var c,e,f=d.detectWindowDims(),g=0;try{c=screen.width,e=screen.height,g=screen.colorDepth}catch(h){}var i,j={res:c+"x"+e+"x"+g,plg:d.detectPlugins(),ch:b.charset||b.characterSet,tz:(new Date).getTimezoneOffset()},k=b.getElementsByTagName("meta");if(f&&(j.ws=f[0]+"x"+f[1]),j.ifr=d.inIframe()?1:0,j.ifr)try{tWin=a.top,tDoc=a.top.document,tDims=d.detectWindowDimensions(tWin,tDoc),tDims&&(j.tws=tDims.width+"x"+tDims.height)}catch(l){}else j.tws=j.ws;for(var m=0;m<k.length;m++)if(i=k[m],i.name&&"viewport"===i.name){j.vmt=1;break}return BB.browser_id&&void 0!=BB.browser_id.get()&&(j.bi=BB.browser_id.get()),j},create:function(a){var c=b.createElement("div");return c.innerHTML=a,c.firstChild},cookie:function(a,c,e){if(f){var g=a+"=";g+=(c||"")+";path=/;",d.defined(e)&&(g+="expires="+e+";");try{b.cookie=g}catch(h){}}},createScript:function(a){var c=b.createElement("script");return c.type="text/javascript",a.id&&(c.id=a.id),a.src&&(c.src=a.src),c},createIframe:function(a,c){var d=b.createElement("iframe");return d.src=a.src,d.id=a.id,d.width=a.width,d.height=a.height,d.seamless=!0,d.frameBorder=0,d.sandbox="allow-same-origin allow-scripts allow-popups",d.scrolling="no",d.onload=c,d},defined:function(a){return"undefined"!=typeof a},detectWindowDims:function(){var c=b.documentElement,e=a.innerWidth,f=a.innerHeight;if(e=d.defined(e)?e:c.clientWidth,f=d.defined(f)?f:c.clientHeight,d.defined(e)&&d.defined(f))return[e,f]},detectWindowDimensions:function(a,b){var c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}},detectPlugins:function(){var e,f="BB_plg",g="ShockwaveFlash.ShockwaveFlash",h={swf:{activex:[g,g+".3",g+".4",g+".5",g+".6",g+".7"],plugin:/flash/gim},sl:{activex:["AgControl.AgControl"],plugin:/silverlight/gim},pdf:{activex:["acroPDF.PDF.1","PDF.PdfCtrl.1","PDF.PdfCtrl.4","PDF.PdfCtrl.5","PDF.PdfCtrl.6"],plugin:/adobe\s?acrobat/gim},qt:{activex:["QuickTime.QuickTime","QuickTime.QuickTime.4"],plugin:/quicktime/gim},wmp:{activex:["WMPlayer.OCX"],plugin:/(windows\smedia)|(Microsoft)/gim},shk:{activex:["SWCtl.SWCtl","SWCt1.SWCt1.7","SWCt1.SWCt1.8","SWCt1.SWCt1.9",g+".1"],plugin:/shockwave/gim},rp:{activex:["RealPlayer","rmocx.RealPlayer G2 Control.1"],plugin:/realplayer/gim}};return function(){var g,i,j="",k=[];if(e)return e;try{if(b.cookie&&(g=b.cookie.split(escape(f)+"="),2<=g.length&&(i=g[1].split(";"),i[0]&&i[0].indexOf("|")>=0)))return unescape(i[0].split("|").join(","))}catch(l){}for(var m in h)if(h.hasOwnProperty(m))if(a.ActiveXObject)for(var n=0;n<h[m].activex.length;++n)try{ActiveXObject(h[m].activex[n]),k.push(m);break}catch(l){}else if(c.plugins)for(var o=0;o<c.plugins.length;++o)if(c.plugins[o]&&c.plugins[o].name&&c.plugins[o].name.match(h[m].plugin)){k.push(m);break}return a.postMessage&&k.push("pm"),e=j=k.join(","),d.cookie(f,k.join("|")),j}}(),detectPageURL:function(){var a;try{a=top.location.href}catch(b){}return a||d.detectRefererURL()},detectProtocol:function(){return location.protocol},detectRefererURL:function(){var a=b.referrer;try{a=top.document.referrer}catch(c){if(parent)try{a=parent.document.referrer}catch(d){}}try{!a&&opener&&"undefined"!=typeof opener&&(a=opener.location.href)}catch(e){}return a||""},each:function(a,b){if(d.isArray(a))for(var c=0;c<a.length;c++)b(a[c],c);else for(var e in a)a.hasOwnProperty(e)&&b(e,a[e])},ensureRightProtocol:function(a){var b;if(a)return b=a.indexOf("//"),5!=b&&6!=b&&(a="http://"+a),"https:"==d.detectProtocol()?a.replace("http:","https:"):a},get:function(a){return b.getElementById(a)},getCookie:function(a){try{var c=b.cookie.split(a+"=");if(2==c.length)return c[1].split(";")[0]}catch(d){}},selectInterstitialImage:function(a){for(var b=window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,d=Math.abs(b/c),e=-1,f=99999,g=0;g<a.length;g++){var h=Math.abs(a[g].width/a[g].height),i=Math.abs(d-h);i<f&&(f=i,e=g)}return e},hideDiv:function(a){var c=b.getElementById(a);c.parentNode.removeChild(c)},replaceImage:function(a,c){var d=b.getElementById(a);d.src=c},getMedium:function(){return e},getSlotElement:function(a){return d.get("BB_SLOT_"+BB_r+"_"+a)},setMedium:function(a){e=a},ieVersion:function(){var a,b,d=0;if(c){try{a=c.userAgent,"Microsoft Internet Explorer"==c.appName?(b=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!=b.exec(a)&&(d=parseFloat(RegExp.$1))):"Netscape"==c.appName&&(b=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!=b.exec(a)&&(d=parseFloat(RegExp.$1)))}catch(e){}return d}}(),isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFramed:function(){return a.self!=a.top},isMobileSafari:function(){var a=window.navigator.userAgent;return/(iPad|iPhone|iPod).*WebKit/.test(a)&&!/(CriOS|FxiOS|OPiOS|mercury)/.test(a)},isIE:0,lastScript:function(){var a=b.getElementsByTagName("script");return a[a.length-1]},merge:function(a){var b,c;if(d.isArray(a)){b={};for(var e=0;e<a.length;e++){c=a[e];for(var f in c)c.hasOwnProperty(f)&&(b[f]=c[f])}}return b},now:function(){return(new Date).getTime()},postMessage:function(b){var c=!1;a.addEventListener?a.addEventListener("message",b,c):a.attachEvent&&a.attachEvent("onmessage",b,c)},rand:function(){return Math.floor(9999999999*Math.random())+""},remove:function(a){a.parentNode.removeChild(a)},replace:function(a,b){return a.parentNode.replaceChild(b,a),b},replaceOrRemove:function(a,b,c){return a?b?d.replace(b,a):d.append(c,a):void(b&&d.remove(b))},serialize:function(a){var b,c="";if("object"==typeof a)for(var e in a)a.hasOwnProperty(e)&&(b=a[e],d.defined(b)&&null!==b&&(d.isArray(b)&&(b=b.join(",")),c+=e+"="+escape(b)+"&"));return c.length>1&&(c=c.substr(0,c.length-1)),c},store:function(){function a(a,c){var f,h,i="BB_"+a;if(e?(h=b.getItem(i),c&&b.removeItem(i)):g?(h=d.getCookie(i),c&&d.cookie(i)):(h=k[i],c&&delete k[i]),h){f=h.split(j);for(var l=0;l<f.length;l++)f[l]=unescape(f[l]);return 1===f.length?f[0]:f}}var b,e,g,h="111111111111111111111111111111111111111111111111111",i=63072e7,j="|",k={};try{b=localStorage,b.setItem(h,h),b.removeItem(h),e=1}catch(l){c.cookieEnabled&&f&&(g=1)}return{put:function(a,c){var f,h,l,m="BB_"+a;if(d.isArray(c)){h=[];for(var n=0;n<c.length;n++)h.push(escape(c[n]));f=h.join(j)}else f=escape(c);e?b.setItem(m,f):g?(l=new Date(d.now()+i).toGMTString(),d.cookie(m,f,l)):k[m]=f},get:function(b){return a(b)},remove:function(b){return a(b,1)}}}(),template:function(a,b,c,e){b=b||{};for(var f,g,h,i="",j=0,k="",c=c||"{",e=e||"}",l=0;l<a.length;l++)switch(f=a.charAt(l)){case c:j=1;break;case e:g=b[i],h=d.defined(g)&&null!=g?g:"",k+=h,j=0,i="";break;default:j?i+=f:k+=f}return k},Templates:{SCRIPT:"<script type='text/javascript' id='{id}' src='{src}'></script>",IFRAME_DOC:"<!DOCTYPE html><html><head><title>{title}</title><base target='_top'/>{head}</head><body style='margin:0;padding:0'>{body}</body></html>",BANNER:'<a href="{url}" rel="nofollow noindex" target="_blank"><img border="0" src="{img}" width="{width}"/></a>',BANNERIOS:'<a href="{url}" rel="nofollow noindex"><img border="0" src="{img}" width="{width}"/></a>',SKINBANNER:'<a href="{url}" rel="nofollow noindex" target="_blank"><img style="float:{imgFloat}" border="0" src="{img}" width="{width}"/></a>',BANNERSWF:'<div id="{id}"></div>',INTERSTITIAL:'<div id="{id}" style="width: 100%;height: 100%;position: fixed;left: 0;top: 0;bottom:0;right:0;z-index: 99999999999;"><div style="width: 100%;height: 100%;position: fixed;left: 0;top: 0;bottom:0;right:0;z-index: 9;background-image: url(\'//st.bebi.com/assets/interstitial-img/filter-bg.png\')"></div><div onclick="BB.utils.hideDiv(\'{id}\')" style="width: 54px; height: 55px; position: fixed; right:20px; top: 20px;background-image: url(\'//st.bebi.com/assets/interstitial-img/ad-close-bt.png\');z-index: 99"></div><a href="{url}" target="_blank" style=""><img src="{img}" id="{bb_img}" style="width: 100%;height: 100%;position:absolute; top:0; right:0; bottom:0; left:0; margin:auto;z-index: 9"></a></div>',
INTERSTITIALTABLE:'<div id="{id}"  style="width: 100%;height: 100%;position: fixed;left: 0;top: 0;bottom:0;right:0;z-index: 99999999999;"><div style="width: 100%;height: 100%;position: fixed;left: 0;top: 0;bottom:0;right:0;z-index: 9;background-image: url(\'//st.bebi.com/assets/interstitial-img/filter-bg.png\')"></div><div style="float: right;position: relative;left: -50%;text-align: left;height: 100%;display: table;z-index: 9"><div style="position: relative;left: 50%;margin: 0;padding: 0;vertical-align: middle;display: table-cell;"><div style="float: left;position: relative;"><div onclick="BB.utils.hideDiv(\'{id}\')" style="width: 54px; height: 55px; position: absolute; right:10px; top: 10px;background-image: url(\'//st.bebi.com/assets/interstitial-img/ad-close-bt.png\');z-index: 99"></div><a href="{url}"><img src="{img}" id="{bb_img}" style="max-width: 90vw;max-height: 90vh;width: auto;height: auto;"></a></div></div></div></div>',SKINFRAME:'<div id="{id}" style="width:100%;height:{cHeight}px;position:{position};left:0;top:{topPos}px;overflow:hidden;visibility:hidden;z-index:{zIndex}"><div id="{leftId}" style="visibility:visible;width:{cWidth}px;height:{cHeight}px;position:absolute;left:50%;margin-left:{lMarginLeft}px;top:0;z-index:{zIndex};">{leftImage}</div><div id="{rightId}" style="visibility:visible;width:{cWidth}px;height:{cHeight}px;position:absolute;left:50%;margin-left:{rMarginLeft}px;top:0;z-index:{zIndex};">{rightImage}</div></div>',GW_URL:"{gw}/{v}/{r}?{q}",TRCK_URL:"{track}/{v}/{r}?{q}",CONV_URL:"{conv}/{v}/{r}?{q}",REDIR_URL:"{redir}/{v}/{r}?{q}",IFRAME_JS_URI:"javascript:document.open();document.domain='{domain}';document.write(window.parent['{contentsVar}']);window.parent['{contentsVar}']=null;setTimeout('document.close()',5000)"},preloadImages:function(a,b){"use strict";var c=0,d=[];a="[object Array]"===Object.prototype.toString.apply(a)?a:[a];for(var e=function(){c+=1,c===a.length&&b&&b(d)},f=0;f<a.length;f++)d[f]=new Image,d[f].onabort=e,d[f].onerror=e,d[f].onload=e,d[f].src=a[f]},hasDomWithId:function(a){return!(!a||""==a)&&(a=a.replace("#",""),document.getElementById(a))},getDomWidth:function(a){a=a.replace("#","");var b=document.getElementById(a);return!!b&&(b.offsetWidth?b.offsetWidth:"function"==typeof window.getComputedStyle?parseInt(window.getComputedStyle(b).width.replace("px","")):!!b.currentStyle&&parseInt(b.currentStyle.width.replace("px","")))},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth},write:function(a){console.log(b.readyState),"complete"!==b.readyState&&b.write(a)},writeAfterElementId:function(a,b){var c=d.getSlotElement(b);return c?(c.parentNode.insertBefore(a,c),!0):(d.append(d.lastScript(),a),!1)},writeDivAfterElementId:function(a,c,e,f,g){var h=b.createElement("div");h.innerHTML=a,g&&(h.id=g),h.style.cssText="overflow:hidden;width:"+c+"px;height:"+e+"px;margin:0;display:block;";var i=b.getElementById(f);i?i.parentNode.insertBefore(h,i):d.append(d.lastScript(),h)},insertAfterBody:function(a){var c=b.createElement("div");c.innerHTML=a,b.body.appendChild(c)},isCookieEnabled:function(){return c.cookieEnabled&&f},isValidDIM:function(a){return!(a>g)&&!isNaN(a)},inIframe:function(){return a.self!==a.top},getPosition:function(a){var b=yPosition=0;if(null==a)return null;for(;a;)"SCRIPT"!=a.tagName?(b+=a.offsetLeft,yPosition+=a.offsetTop,a=a.offsetParent):a=a.previousElementSibling;return{left:Math.round(b),top:Math.round(yPosition)}},getPositionById:function(a,b){var c=a.getElementById(b);return d.getPosition(c)},getAdPosition:function(b,c){var e,f,g=a,h=a.document;try{if(b=a.frameElement?a.frameElement.parentNode:b,d.inIframe()&&(g=a.parent,h=a.parent.document),e=d.detectWindowDimensions(g,h),!d.isValidDIM(e.width)||!d.isValidDIM(e.height))return null;if(c){if(f=d.getPositionById(h,b),null==f)return null}else f=d.getPosition(b);return d.isValidDIM(f.left)&&d.isValidDIM(f.top)?{browserDims:e,adUnitStartPos:f}:null}catch(i){return null}},findAncestors:function(a){try{if(!window.location.ancestorOrigins)return;for(var b=0,c=window.location.ancestorOrigins.length;c>b;b++)a.call(null,window.location.ancestorOrigins[b],b)}catch(d){}return[]},isTop:function(a){var b,c=[];do try{b=b?b.parent:window,a.call(null,b,c)}catch(d){return c.push({referrer:null,location:null,isTop:!1}),c}while(b!==window.top);return c},getStack:function(a){var b,c=[],d=null,e=null,f=null,g=null,h=null,i=null,j=null;for(b=a.length-1;b>=0;b--){try{f=a[b].location}catch(k){}if(f)e=f,c.push(e),j||(j=e);else if(0!==b){g=a[b-1];try{h=g.referrer,i=g.ancestor}catch(k){}h?(e=h,c.push(e),j||(j=e)):i?(e=i,c.push(e),j||(j=e)):c.push(d)}else c.push(d)}return{stack:c,detectUrl:j}},getAllStack:function(){var a=d.isTop(function(a,b){try{b.push({referrer:a.document.referrer||null,location:a.location.href||null,isTop:a===window.top})}catch(c){b.push({referrer:null,location:null,isTop:a===window.top})}});d.findAncestors(function(b,c){a[c].ancestor=b});var b=a.length-1,c=null!==a[b].location||b>0&&null!==a[b-1].referrer,e=d.getStack(a);return{slen:b,top:c,ref:e.detectUrl,stck:e.stack}},getParams:function(){for(var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,d=function(a){return decodeURIComponent(a.replace(b," "))},e=window.location.search.substring(1),f={};a=c.exec(e);)f[d(a[1])]=d(a[2]);return f}},d.ieVersion&&(d.isIE=1),d}(window,document,navigator),BB.AdRequest=BB.AdRequest||function(a,b){var c,d,e,f=this,g=BB.utils,h=g.rand(),i="BB_"+h,j="bb_sa_"+h,k={},l=!1,m=[],n=null,o=null,p={o:h},q={mode:null,pl:null,record_tmpl:null,ad_units:[]};f.addAdUnit=function(a){p.pl||(p.pl=[]),p.pl.push(a);var b=g.getAdPosition(g.getSlotElement(f.getBBSlot()));null!==b&&(f.setBrowserDims(b.browserDims.width+"x"+b.browserDims.height),f.setAdUnitLocation(b.adUnitStartPos.left+","+b.adUnitStartPos.top))},f.createAdRequestURL=function(){var a,b,d="";return k.exclude=m,b=g.merge([p,k,g.contextArgs(),BB._customVars,BB._requestArgs]),d&&(d+="&"),d+=g.serialize(b),a=g.template(g.Templates.GW_URL,{gw:c,v:"1.1",r:"sa",q:d})},f.fetchAds=function(a){o=a;var b=f.createAdRequestURL(),c=g.createScript({src:b,id:j});a&&document.getElementById(a)?document.getElementById(a).appendChild(c):l=g.writeAfterElementId(c,f.getBBSlot())},f.get=function(a){return q.hasOwnProperty(a)?q[a]:p[a]},f.getBBSlot=function(){return p.ai},f.loadAdResponse=function(b){function c(){try{window.pageYOffset<=p.topPos-p.secondaryTop?document.getElementById(p.id).style.top=p.topPos-window.pageYOffset+"px":document.getElementById(p.id).style.top=p.secondaryTop+"px"}catch(a){}}function c(){try{window.pageYOffset<=p.topPos-p.secondaryTop?document.getElementById(p.id).style.top=p.topPos-window.pageYOffset+"px":document.getElementById(p.id).style.top=p.secondaryTop+"px"}catch(a){}}function i(){try{var b=(g.getWindowWidth()-(a.leftOffset+a.rightOffset+a.centerWidth))/2;b>p.cWidth?b=p.cWidth:b<200&&(b=200);var c=document.getElementById(p.leftId).getElementsByTagName("img")[0],d=document.getElementById(p.rightId).getElementsByTagName("img")[0];c&&d&&(c.width=b,d.width=b)}catch(e){}}if(b&&b.type){var k={tq:b.trck,bi:g.contextArgs().bi};b.brid&&(k.brimpid=b.brimpid,k.brid=b.brid,k.wp=b.wp),b.bbuid&&(k.bbuid=b.bbuid);var l=g.serialize(k),o=g.template(g.Templates.REDIR_URL,{redir:e,v:"1.0",r:"go",q:l}),p={};switch(b.type.toLowerCase()){case"interstitial":g.preloadImages([g.ensureRightProtocol(b.creatives[g.selectInterstitialImage(b.creatives)].url),g.ensureRightProtocol("http://st.bebi.com/assets/interstitial-img/filter-bg.png"),g.ensureRightProtocol("http://st.bebi.com/assets/interstitial-img/ad-close-bt.png")],function(){g.insertAfterBody(g.template(g.Templates.INTERSTITIAL,{id:"bb-int-"+h,url:o,img:g.ensureRightProtocol(b.creatives[g.selectInterstitialImage(b.creatives)].url)})),g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))});break;case"script":g.hasDomWithId(j+"-ps")||g.writeDivAfterElementId("",b.width,b.height,j,j+"-ps"),postscribe("#"+j+"-ps",b.data,{done:function(){b.mid?setTimeout(function(){m.indexOf(b.mid)===-1&&g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))},200):g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))}});break;case"rich":g.writeAfterElementId(g.createIframe({src:g.ensureRightProtocol(b.creatives[0].url),id:j+"-ps",width:b.width,height:b.height},function(){document.getElementById(j+"-ps").contentWindow.postMessage("bburl:"+o,"*"),g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))}),f.getBBSlot());break;case"iframe":g.hasDomWithId(j+"-ps")||g.writeDivAfterElementId("",b.width,b.height,j,j+"-ps"),postscribe("#"+j+"-ps",b.creatives[0].data,{done:function(){g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))}});break;case"scriptskin":g.hasDomWithId(a.leftFrameId)&&g.hasDomWithId(a.rightFrameId)?postscribe("#"+a.leftFrameId,b.data,{done:function(){n=setTimeout(function(){g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))},3e3)}}):(a.centerDomId&&""!==a.centerDomId&&(a.centerWidth=g.getDomWidth(a.centerDomId)?g.getDomWidth(a.centerDomId):a.centerWidth),a.centerWidth||window.console&&console.error("Neither centerWidth nor centerDomId is valid"),p.lMarginLeft=-a.centerWidth/2-b.width-a.leftOffset,p.rMarginLeft=a.centerWidth/2+a.rightOffset,p.cWidth=b.width,p.cHeight=b.height,p.position=a.fixed?"fixed":"absolute",p.topPos=parseInt(a.topPos)>0?a.topPos:0,p.secondaryTop=parseInt(a.fixedScrollSecondaryTop)>0?a.fixedScrollSecondaryTop:0,p.zIndex=parseInt(a.zIndex)>0?a.zIndex:0,p.leftId="BB_S_"+g.rand(),p.rightId="BB_S_"+g.rand(),p.id="BB_SK_"+g.rand(),p.leftImage="image"===b.creatives[0].type?g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[0].url),width:b.width,imgFloat:"right"}):"",p.rightImage="image"===b.creatives[1].type?g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[1].url),width:b.width,imgFloat:"left"}):"",a.adjustSkinOnDynamicCenter&&a.centerDomId&&""!==a.centerDomId&&g.attachListener(window,"resize",function(){var c=g.getDomWidth(a.centerDomId);c&&(a.centerWidth=c,document.getElementById(p.leftId).style.marginLeft=-c/2-b.width-a.leftOffset+"px",document.getElementById(p.rightId).style.marginLeft=c/2+a.rightOffset+"px")}),a.fixed&&a.fixedStickTopOnScroll&&g.attachListener(document,"scroll",function(){c()}),g.insertAfterBody(g.template(g.Templates.SKINFRAME,p)));break;case"banner":switch(g.hasDomWithId(j+"-ps")||g.writeDivAfterElementId("",b.width,b.height,j,j+"-ps"),b.creatives[0].type){case"image":var q=g.isMobileSafari()?g.Templates.BANNERIOS:g.Templates.BANNER;g.appendHtml(j+"-ps",g.template(q,{url:o,img:g.ensureRightProtocol(b.creatives[0].url),width:b.width}))}g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}));break;case"skin":b.creatives&&2===b.creatives.length&&(g.hasDomWithId(a.leftFrameId)&&g.hasDomWithId(a.rightFrameId)?(g.appendHtml(a.leftFrameId,g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[0].url),width:b.width,imgFloat:"right"})),g.appendHtml(a.rightFrameId,g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[1].url),width:b.width,imgFloat:"left"}))):(a.centerDomId&&""!==a.centerDomId&&(a.centerWidth=g.getDomWidth(a.centerDomId)?g.getDomWidth(a.centerDomId):a.centerWidth),a.centerWidth||window.console&&console.error("Neither centerWidth nor centerDomId is valid"),p.lMarginLeft=-a.centerWidth/2-b.width-a.leftOffset,p.rMarginLeft=a.centerWidth/2+a.rightOffset,p.cWidth=b.width,p.cHeight=b.height,p.position=a.fixed?"fixed":"absolute",p.topPos=parseInt(a.topPos)>0?a.topPos:0,p.secondaryTop=parseInt(a.fixedScrollSecondaryTop)>0?a.fixedScrollSecondaryTop:0,p.zIndex=parseInt(a.zIndex)>0?a.zIndex:0,p.leftId="BB_S_"+g.rand(),p.rightId="BB_S_"+g.rand(),p.id="BB_SK_"+g.rand(),p.leftImage="image"==b.creatives[0].type?g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[0].url),width:b.width,imgFloat:"right"}):"",p.rightImage="image"==b.creatives[1].type?g.template(g.Templates.SKINBANNER,{url:o,img:g.ensureRightProtocol(b.creatives[1].url),width:b.width,imgFloat:"left"}):"",a.adjustSkinOnDynamicCenter&&a.centerDomId&&""!=a.centerDomId&&g.attachListener(window,"resize",function(){var c=g.getDomWidth(a.centerDomId);c&&(a.centerWidth=c,document.getElementById(p.leftId).style.marginLeft=-c/2-b.width-a.leftOffset+"px",document.getElementById(p.rightId).style.marginLeft=c/2+a.rightOffset+"px")}),a.fixed&&a.fixedStickTopOnScroll&&g.attachListener(document,"scroll",function(){c()}),g.insertAfterBody(g.template(g.Templates.SKINFRAME,p))),g.attachListener(window,"resize",function(){i()}),i(),a.fixed&&a.fixedStickTopOnScroll&&c()),g.beacon(g.template(g.Templates.TRCK_URL,{track:d,v:"1.0",r:"go",q:l}))}}},f.passBack=function(a,b){q.pl===a&&(m=m.concat(b),g.remove(g.get(j)),f.fetchAds(o))},f.setAdUnitLocation=function(a){p.adxy=p.adxy||[],p.adxy.push(a)},f.setBrowserDims=function(a){p.dims=p.dims||[],p.dims.push(a)},f.setGateway=function(a){c=g.ensureRightProtocol(a)},f.setTrackUrl=function(a){d=g.ensureRightProtocol(a)},f.setRedirUrl=function(a){e=g.ensureRightProtocol(a)},f.setPageURL=function(a){p.ju=g.ensureRightProtocol(a)},f.setRefererURL=function(a){p.jr=a},f.setBBSlot=function(a){p.ai=a},f.setBBR=function(a){p.r=a},f.setStack=function(a){p.stck=a},f.receiveCrossIframeMessage=function(a){a.data&&a.data.pl&&a.data.excl&&f.passBack(a.data.pl,a.data.excl)},f.listenCrossIframeMessages=function(){window.addEventListener&&window.addEventListener("message",f.receiveCrossIframeMessage,!1)},window[i]=function(a){docReady(function(a){f.loadAdResponse(a)},a)},p.callback=i,f.setGateway(a&&a.gw||b.gw),f.setTrackUrl(a&&a.trck||b.trck),f.setRedirUrl(a&&a.redir||b.redir),f.setPageURL(a&&a.url||b.stack.ref||b.url),f.setRefererURL(a&&a.ref||b.ref),f.setStack(a&&a.stck||b.stack.stck),f.setBBSlot(a&&a.index||b.index),f.setBBR(window.BB_r||h),f.listenCrossIframeMessages(),q.pl=a&&a.pl?a.pl:0,f.addAdUnit(q.pl)},BB.browser_id=BB.browser_id||function(){function a(){return BB_UUID.v4()}function b(){return void 0!=d.getCookie(f)}var c,d=BB.utils,e="BI",f="BB_u";return c={get:function(){if(!b()){var c=d.store.get(e);return void 0==c?void d.store.put(e,a()):c}}}}(),!function(){BB.Raven||("undefined"!=typeof Raven?(BB.Raven=Raven.noConflict(),BB.Raven.config("https://b6f58654583647e18fa1223a0c8df4b1@app.getsentry.com/78387",{release:"3.1.69",whitelistUrls:[/bebi\.com/]})):BB.Raven={captureException:function(a){console.error(a)}});try{BB.init({gw:"http://go.bebi.com/w",trckgw:"http://trck.bebi.com",redirgw:"http://redir.bebi.com",convgw:"http://conv.bebi.com",version:"1.0",adloadCountCookie:"bbl"}),window.BB_cnvi&&(BB.recordConversion(window.BB_cnvi),window.BB_cnvi=null),window.BB_atvi&&(BB.recordConversion(window.BB_atvi,!0),window.BB_atvi=null),!window.BB_skin||"undefined"!=typeof window.BB_skinLoaded&&window.BB_skinLoaded||(window.BB_skinLoaded=!0,window.BB_skin.deferLoading||BB.requestAds(window.BB_skin));for(var a;window.BB_a&&(a=BB_a.shift());)BB.requestAds(a);for(var b;window.BB_la&&(b=BB_la.shift());)BB.loadAds(b)}catch(c){BB.Raven.captureException(c)}}();
//# sourceMappingURL=bebi_v3.js.map